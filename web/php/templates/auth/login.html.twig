{% extends '@layout/default.html.twig' %}

{% block title %}登入{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="/css/login.css">
{% endblock %}

{% block content %}
<div class="container auth-wrapper">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card auth-card shadow-sm">
                <div class="card-body p-4">
                    <h2 class="h4 text-center mb-2">登入</h2>
                    <p class="text-muted text-center mb-4">請輸入帳號、密碼與驗證碼</p>

                    <form method="post" action="/login" novalidate>
                        <input type="hidden" name="csrf" value="{{ csrf|e }}">

                        <div class="form-group mb-3">
                            <label for="username" class="form-label">帳號</label>
                            <input type="text" class="form-control" id="username" name="username" required autocomplete="username" autofocus>
                        </div>

                        <div class="form-group mb-3">
                            <label for="password" class="form-label">密碼</label>
                            <input type="password" class="form-control" id="password" name="password" required autocomplete="current-password">
                        </div>

                        <div class="form-group mb-3">
                            <label for="captcha" class="form-label">驗證碼</label>
                            <div class="d-flex align-items-center gap-2 captcha-row">
                                <input type="text" class="form-control flex-fill" id="captcha" name="captcha" required maxlength="6" autocomplete="off" placeholder="請輸入圖片上的文字">
                                <img src="/captcha" alt="驗證碼" onclick="this.src='/captcha?'+Math.random()" title="點擊重新整理">
                            </div>
                        </div>

                        <div class="d-grid mb-2">
                            <button class="btn btn-primary" type="submit">登入</button>
                        </div>

                        {% if error is defined and error %}
                            <div class="alert alert-danger mb-0" role="alert">{{ error|e }}</div>
                        {% endif %}
                    </form>

                    <p class="text-muted small text-center mt-3 mb-0">若驗證碼看不清楚，點擊圖片可重新整理</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
